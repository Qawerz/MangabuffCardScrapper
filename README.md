# MangabuffCardScraper

üöÄ –í–µ–±-—Å–∫—Ä–µ–π–ø–µ—Ä –Ω–∞ Python –¥–ª—è —Å–∞–π—Ç–∞ [Mangabuff.ru](https://mangabuff.ru), –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Å–±–æ—Ä–∞ **–∫–∞—Ä—Ç–æ—á–µ–∫**, –∏—Ö **–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** –∏ **–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite.

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Selenium** —Å–æ stealth-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç cookies —Å–µ—Å—Å–∏–∏ –¥–ª—è –≤—Ö–æ–¥–∞ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ `cards.db`.



## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîë **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏** —á–µ—Ä–µ–∑ cookies (—Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ä—É—á–Ω–æ–π –≤—Ö–æ–¥).
- üñº **–°–±–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫**:
  - ID –∫–∞—Ä—Ç–æ—á–∫–∏
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏
  - URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞—Ä—Ç–æ—á–∫–∏
- üí¨ **–ü–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤**:
  - –¢–µ–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - –î–∞—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
  - –¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
- üóÑ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite** (`cards.db`).
- üõë –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ **—É–¥–∞–ª–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (404)**.
- üìä –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ **–ø—Ä–æ–≥—Ä–µ—Å—Å–∞** —á–µ—Ä–µ–∑ `tqdm`.



## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.9+
- Google Chrome (–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- ChromeDriver (—Å–æ–≤–º–µ—Å—Ç–∏–º–∞—è —Å –≤–∞—à–µ–π –≤–µ—Ä—Å–∏–µ–π Chrome)


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
git clone https://github.com/your-username/mangabuff-card-scraper.git
cd mangabuff-card-scraper
python -m venv .venv
source .venv/bin/activate   # –î–ª—è Linux / macOS
.venv\Scripts\activate      # –î–ª—è Windows
pip install -r requirements.txt
```

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã:

- selenium
- selenium-stealth
- tqdm
- sqlite3 (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Python)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –í—Ö–æ–¥ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ cookies

    ```shell
    uv run main.py
    ```

    - –°–∫—Ä–∏–ø—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ –Ω–∞ Mangabuff..

    - –í–æ–π–¥–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –≤ –æ—Ç–∫—Ä—ã–≤—à–µ–º—Å—è –æ–∫–Ω–µ Chrome.

    - Cookies —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `cookies.json`.

2. –°–±–æ—Ä –∫–∞—Ä—Ç–æ—á–µ–∫

    - –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Å–∫—Ä–µ–π–ø–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

        - –ü–µ—Ä–µ–±–µ—Ä–µ—Ç ID –∫–∞—Ä—Ç–æ—á–µ–∫ (–æ—Ç 1 –¥–æ 280921)..

    - –°–æ—Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ `cards.db`.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

`cards.db` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã::

`cards` (–ö–∞—Ä—Ç–æ—á–∫–∏)
| –ü–æ–ª–µ	 |–¢–∏–ø	|–û–ø–∏—Å–∞–Ω–∏–µ|
|-|-|-|
|id	|INTEGER	|ID –∫–∞—Ä—Ç–æ—á–∫–∏ (PK)|
|name	|TEXT	|–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏|
|image_url	|TEXT	|–°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ|

`comments` (–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)
|–ü–æ–ª–µ	|–¢–∏–ø	|–û–ø–∏—Å–∞–Ω–∏–µ|
|-|-|-|
|id	|INTEGER	|–ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω—ã–π PK|
|card_id	|INTEGER	|–°—Å—ã–ª–∫–∞ –Ω–∞ cards.id|
|tag	|TEXT	|–ö–ª–∞–Ω/—Ç–µ–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è|
|user	| TEXT	| –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è| 
|date	| TEXT	| –î–∞—Ç–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è (–∫–∞–∫ –Ω–∞ —Å–∞–π—Ç–µ)| 
|text	| TEXT	| –¢–µ–∫—Å—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è| 

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- –°–∫—Ä–∏–ø—Ç –≤–µ–¥–µ—Ç –∑–∞–ø–∏—Å—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª `py_log.log`.

- –õ–æ–≥–∏ –≤–∫–ª—é—á–∞—é—Ç –ø–æ—Å–µ—â–µ–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü, –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏) –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—Å—Ç–∞–≤–∫–∏ –≤ –ë–î.

